---
import '@styles/blog-detail.css'
import Tags from '@components/Tags'
import BaseLayout from '@layouts/BaseLayout.astro'

const { title, excerpt, tags, pubDate, readtime, slug } = Astro.props.content
const formattedDate = new Date(pubDate).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
})
const fullImageURL = `https://www.polpiella.dev/api/thumbnail?title=${encodeURI(
  title
)}`
---

<BaseLayout {title} description={excerpt} imageURL={fullImageURL}>
  <article
    class="prose prose-pre:mt-2 max-w-full prose-pre:dark:bg-gray-900 prose-pre:px-0 prose-pre:pt-0 sm:max-w-prose prose-lg dark:prose-invert prose-blockquote:not-italic prose-blockquote:dark:bg-gray-800 prose-blockquote:bg-gray-100 prose-blockquote:font-normal prose-blockquote:border-yellow-600 prose-blockquote:m-0 prose-blockquote:rounded-r-md prose-p:before:content-none prose-p:after:content-none mx-auto my-0 px-3">
    <header class="mb-8">
      <p class="text-zinc-400 m-0 font-bold">{formattedDate}</p>
      <div class="flex flex-col gap-3">
        <h1 class="text-5xl m-0">{title}</h1>
        <div>
          <span
            class="mr-2 inline-flex items-center rounded bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 dark:bg-gray-700 dark:text-gray-300">
            <svg
              aria-hidden="true"
              class="mr-1 h-3 w-3"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                clip-rule="evenodd"></path>
            </svg>
            {readtime} minute read
          </span>
        </div>
        <Tags {tags} />
      </div>
    </header>
    <slot />
  </article>
</BaseLayout>

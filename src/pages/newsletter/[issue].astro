---
import { getEntryBySlug, getCollection } from 'astro:content'
const { issue } = Astro.params
const entry = await getEntryBySlug('newsletter', issue)
const { Content } = await entry.render()

export async function getStaticPaths() {
  const allPosts = await getCollection('newsletter')

  return allPosts.map(({ data }) => {
    return {
      params: { issue: data.number },
    }
  })
}
---

<Content />
